# Meterpreter

## ğŸ”§ Core Commnads

Â·         ? or help(help menu)

Â·         background (backgrounds current session)

Â·         bgkill (kill background meterpreter script)

Â·         bglist (list background running scripts)

Â·         bgrun (executes meterpreter script as background thread)

Â·         channel (displays info or control active channels)

Â·         close (closes a channel

Â·         get\_timeouts (get the session timeout values)

Â·         guid (get the session guid user id)

Â·         run (run meterpeter script or post module#

Â·         sleep (forces meterpeter to go quiet, then re-establish session)

Â·         write (write data to a channel)

Â·         machine\_id (get the msf id of the machine attached to the session)

Â·         sessions (quickly switch to another session)

Â·         load (meterpeter extension loads)

Â·         migrate

Â·         uuid (get the UUID for the current session)

Â·         download â€˜â€™examplefile.txtâ€™â€™ (downloads file)

Â·         upload â€˜â€™examplefile.txtâ€™â€™ c:\\\ path (upload file, hide virus/file/tool in system 32 good place)

Â·         getuid (gets user id)

Â·         Ipconfig

Â·         exit (when using the linux or windows terminal to get back to the Meterpreter)

## ğŸ” Password commands:

Â·         hashdump (get password hashes)

## ğŸ“ file system commands:

Â·         cd \[path] - Change directory.

Â·         ls - List files in the current directory.

Â·         lcd â€“ change local directory

Â·         lls â€“ list local files

Â·         lpwd- print current local working directory.

Â·         pwd - Show current directory path.

Â·         mkdir \[dir] - Create a directory.

Â·         rmdir \[dir] - Remove a directory.

Â·         rm \[file] - Delete a file.

Â·         cat \[file] - Display file contents.

Â·         upload \[local\_file] \[remote\_path] - Upload a file to the target.

Â·         download \[remote\_file] \[local\_path] - Download a file from the target.

Â·         edit \[file] - Edit a file.

Â·         move \[src] \[dst] - Move or rename a file.

Â·         search -f \[filename] - Search for a file by name.

Â·         stat \[file] - Show file info (size, permissions).

Â·         hashdump - Dump password hashes (Windows only).

Â·         getwd - Show current working directory.

Â·         mv â€“ move source to destination

Â·         show\_mount â€“ list all mounts logical drives

Â·         getlwd - Show current local working directory.

## ğŸŒ Network commands:

Â·         ifconfig â€“ Show network interfaces and IP addresses on the target.

Â·         ipconfig â€“ Show IP configuration (Windows only).

Â·         portfwd â€“ Set up port forwarding to access services on the target.

Â·         route â€“ View or modify the routing table.

Â·         netstat â€“ List active network connections on the target.

Â·         arp â€“ Show the ARP table (IP to MAC mappings).

Â·         netshare â€“ List network shares on the target.

Â·         enum\_snmp â€“ Get SNMP details from the target.

Â·         sniffer\_start â€“ Start packet sniffing on the target network.

Â·         sniffer\_stop â€“ Stop packet sniffing.

Â·         traceroute â€“ Trace the network path to the target.

## ğŸ–¥ï¸ Systems commands:

Â·         sysinfo â€“ Display information about the target system (OS, architecture, etc.).

Â·         reboot â€“ Reboot the target machine.

Â·         shutdown â€“ Shut down the target machine.

Â·         getuid â€“ Display the current user ID (who you're logged in as).

Â·         getsystem â€“ Attempt to escalate to SYSTEM privileges (Windows only).

Â·         elevate â€“ Try to elevate your privileges on the target (if supported).

Â·         ps â€“ List all running processes on the target machine.

Â·         kill \[pid] â€“ Kill a process by its process ID (PID).

Â·         migrate \[pid] â€“ Migrate the Meterpreter session to a new process.

Â·         clearev â€“ Clear Windows event logs.

Â·         idletime â€“ Show the idle time of the user (how long since activity).

Â·         record\_mic â€“ Record audio from the targetâ€™s microphone.

Â·         screenshot â€“ Capture a screenshot of the targetâ€™s screen.

Â·         getenv \[variable] â€“ Get the value of an environment variable.

Â·         env â€“ Display a list of environment variables.

Â·         recon â€“ Gather basic system information (part of "recon" extension).

Â·         setlocale â€“ Set the locale on the target system.

Â·         time â€“ Display or set the time on the target system.

Â·         hashdump â€“ Dump password hashes (Windows only).

Â·         background â€“ Background the current Meterpreter session and return to the console.

Â·         exit â€“ Close the current Meterpreter session.

Â·         interact \[session\_id] â€“ Switch to interact with a different session.

## ğŸ–±ï¸ User interfaces commands:

Â·         enumdesktops: Lists all accessible desktops and window stations.

Â·         getdesktop: Retrieves the current Meterpreter desktop.

Â·         idletime: Returns the number of seconds the remote user has been idle.

Â·         keyscan\_dump: Dumps the keystroke buffer.

Â·         keyscan\_start: Starts capturing keystrokes.

Â·         keyscan\_stop: Stops capturing keystrokes.

Â·         screenshot: Takes a screenshot of the interactive desktop.

Â·         setdesktop: Changes the Meterpreter's current desktop.

Â·         uictl: Controls some of the user interface components.

&#x20;

## ğŸ“¸ Webcam exploit commands:

| Command         | Description               |
| --------------- | ------------------------- |
| `webcam_list`   | List webcams.             |
| `webcam_snap`   | Take webcam snapshot.     |
| `webcam_stream` | Stream video from webcam. |
| `webcam_chat`   | Start webcam chat.        |
| `record_mic`    | Record from microphone.   |

## â¬†ï¸ Privilege Escalation:

| Command        | Description                           |
| -------------- | ------------------------------------- |
| `getsystem`    | Try to escalate to SYSTEM privileges. |
| whoami / privs | So current privs                      |

## &#x20;ğŸ§¹ Clear tracks:

| Command   | Description               |
| --------- | ------------------------- |
| `clearev` | Clear Windows event logs. |
