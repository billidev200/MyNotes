# Meterpreter

## 🔧 Core Commnads

·         ? or help(help menu)

·         background (backgrounds current session)

·         bgkill (kill background meterpreter script)

·         bglist (list background running scripts)

·         bgrun (executes meterpreter script as background thread)

·         channel (displays info or control active channels)

·         close (closes a channel

·         get\_timeouts (get the session timeout values)

·         guid (get the session guid user id)

·         run (run meterpeter script or post module#

·         sleep (forces meterpeter to go quiet, then re-establish session)

·         write (write data to a channel)

·         machine\_id (get the msf id of the machine attached to the session)

·         sessions (quickly switch to another session)

·         load (meterpeter extension loads)

·         migrate

·         uuid (get the UUID for the current session)

·         download ‘’examplefile.txt’’ (downloads file)

·         upload ‘’examplefile.txt’’ c:\\\ path (upload file, hide virus/file/tool in system 32 good place)

·         getuid (gets user id)

·         Ipconfig

·         exit (when using the linux or windows terminal to get back to the Meterpreter)

## 🔐 Password commands:

·         hashdump (get password hashes)

## 📁 file system commands:

·         cd \[path] - Change directory.

·         ls - List files in the current directory.

·         lcd – change local directory

·         lls – list local files

·         lpwd- print current local working directory.

·         pwd - Show current directory path.

·         mkdir \[dir] - Create a directory.

·         rmdir \[dir] - Remove a directory.

·         rm \[file] - Delete a file.

·         cat \[file] - Display file contents.

·         upload \[local\_file] \[remote\_path] - Upload a file to the target.

·         download \[remote\_file] \[local\_path] - Download a file from the target.

·         edit \[file] - Edit a file.

·         move \[src] \[dst] - Move or rename a file.

·         search -f \[filename] - Search for a file by name.

·         stat \[file] - Show file info (size, permissions).

·         hashdump - Dump password hashes (Windows only).

·         getwd - Show current working directory.

·         mv – move source to destination

·         show\_mount – list all mounts logical drives

·         getlwd - Show current local working directory.

## 🌐 Network commands:

·         ifconfig – Show network interfaces and IP addresses on the target.

·         ipconfig – Show IP configuration (Windows only).

·         portfwd – Set up port forwarding to access services on the target.

·         route – View or modify the routing table.

·         netstat – List active network connections on the target.

·         arp – Show the ARP table (IP to MAC mappings).

·         netshare – List network shares on the target.

·         enum\_snmp – Get SNMP details from the target.

·         sniffer\_start – Start packet sniffing on the target network.

·         sniffer\_stop – Stop packet sniffing.

·         traceroute – Trace the network path to the target.

## 🖥️ Systems commands:

·         sysinfo – Display information about the target system (OS, architecture, etc.).

·         reboot – Reboot the target machine.

·         shutdown – Shut down the target machine.

·         getuid – Display the current user ID (who you're logged in as).

·         getsystem – Attempt to escalate to SYSTEM privileges (Windows only).

·         elevate – Try to elevate your privileges on the target (if supported).

·         ps – List all running processes on the target machine.

·         kill \[pid] – Kill a process by its process ID (PID).

·         migrate \[pid] – Migrate the Meterpreter session to a new process.

·         clearev – Clear Windows event logs.

·         idletime – Show the idle time of the user (how long since activity).

·         record\_mic – Record audio from the target’s microphone.

·         screenshot – Capture a screenshot of the target’s screen.

·         getenv \[variable] – Get the value of an environment variable.

·         env – Display a list of environment variables.

·         recon – Gather basic system information (part of "recon" extension).

·         setlocale – Set the locale on the target system.

·         time – Display or set the time on the target system.

·         hashdump – Dump password hashes (Windows only).

·         background – Background the current Meterpreter session and return to the console.

·         exit – Close the current Meterpreter session.

·         interact \[session\_id] – Switch to interact with a different session.

## 🖱️ User interfaces commands:

·         enumdesktops: Lists all accessible desktops and window stations.

·         getdesktop: Retrieves the current Meterpreter desktop.

·         idletime: Returns the number of seconds the remote user has been idle.

·         keyscan\_dump: Dumps the keystroke buffer.

·         keyscan\_start: Starts capturing keystrokes.

·         keyscan\_stop: Stops capturing keystrokes.

·         screenshot: Takes a screenshot of the interactive desktop.

·         setdesktop: Changes the Meterpreter's current desktop.

·         uictl: Controls some of the user interface components.

&#x20;

## 📸 Webcam exploit commands:

| Command         | Description               |
| --------------- | ------------------------- |
| `webcam_list`   | List webcams.             |
| `webcam_snap`   | Take webcam snapshot.     |
| `webcam_stream` | Stream video from webcam. |
| `webcam_chat`   | Start webcam chat.        |
| `record_mic`    | Record from microphone.   |

## ⬆️ Privilege Escalation:

| Command        | Description                           |
| -------------- | ------------------------------------- |
| `getsystem`    | Try to escalate to SYSTEM privileges. |
| whoami / privs | So current privs                      |

## &#x20;🧹 Clear tracks:

| Command   | Description               |
| --------- | ------------------------- |
| `clearev` | Clear Windows event logs. |
