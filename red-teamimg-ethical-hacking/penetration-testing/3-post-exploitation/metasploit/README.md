# Metasploit

Open machines terminal&#x20;

```
shell
```

Go back to meterpreter

* ctrl + z to exit
* typing exit

**Linux**&#x20;

opens  better shell

```bash
/bin/bash -i 
```

* -i : interactive shell

**Windows**&#x20;

opens better shell

```
cmd.exe
```

## &#x20;üì∂ **Sessions Commands**

Send current session to background

```bash
background
```

| Command            | Description                                      | Example         |
| ------------------ | ------------------------------------------------ | --------------- |
| `sessions`         | List all active sessions.                        | `sessions`      |
| `sessions -i <id>` | Interact with a specific session.                | `sessions -i 1` |
| `sessions -k <id>` | Kill a specific session.                         | `sessions -k 1` |
| `sessions -K`      | Kill all sessions.                               | `sessions -K`   |
| `sessions -v`      | List verbose info about sessions.                | `sessions -v`   |
| `sessions -u <id>` | Upgrade a shell to Meterpreter.                  | `sessions -u 2` |
| `interact <id>`    | Interact with a session (same as `sessions -i`). | `interact 1`    |

## Autoroute

### üîÅ What is `autoroute`?

`autoroute` is a **Meterpreter post module** that adds routes to subnets accessible **only from the target machine**, allowing you to pivot through it and reach internal networks.

| Command                                  | Description                    |
| ---------------------------------------- | ------------------------------ |
| `run autoroute`                          | Loads autoroute module         |
| `run autoroute -s <subnet> -n <netmask>` | Adds a route to subnet         |
| `run autoroute -p`                       | Prints current routes          |
| `run autoroute -d <subnet>`              | Deletes a specific route       |
| `route`                                  | View Metasploit's route table  |
| `route add <subnet> <mask> <id>`         | Manually add route via session |
