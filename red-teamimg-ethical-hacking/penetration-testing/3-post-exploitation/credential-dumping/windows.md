# Windows

<figure><img src="../../../../.gitbook/assets/image (4).png" alt=""><figcaption></figcaption></figure>

## SAM database

<figure><img src="../../../../.gitbook/assets/image (7).png" alt=""><figcaption></figcaption></figure>

## LM Hash Algorithm

<figure><img src="../../../../.gitbook/assets/image (8).png" alt=""><figcaption></figcaption></figure>

## NTLM hash Algorithm

<figure><img src="../../../../.gitbook/assets/image (9).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../.gitbook/assets/image (11).png" alt=""><figcaption></figcaption></figure>

## Metasploit Hashdump

The `hashdump` command will list the content of the SAM database. The SAM (Security Account Manager) database stores user's passwords on Windows systems. These passwords are stored in the NTLM (New Technology LAN Manager) format.

## &#x20;Mimikatz/**Kiwi**

#### üß† What is **Mimikatz**?

**Mimikatz** is a powerful post-exploitation tool used to:

* Extract plaintext passwords
* Dump password hashes
* Retrieve Kerberos tickets
* Perform **pass-the-hash**, **pass-the-ticket**, **Golden Ticket**, and more

It‚Äôs used heavily in **red teaming**, **penetration testing**, and also by real-world attackers.

{% hint style="warning" %}
Incase we dont have access with meterpreter to use kiwi we can install and use the mimikatz file
{% endhint %}

üõ†Ô∏è How to Load and Use `kiwi` in Meterpreter:

<pre><code><strong>meterpreter> load kiwi
</strong></code></pre>

```
meterpreter> help kiwi
```

You‚Äôll see commands like:

| Command                       | Description                      |
| ----------------------------- | -------------------------------- |
| `creds_all`                   | Dump all available credentials!! |
| `lsa_dump_sam`                | Dump SAM database!!              |
| `kerberos_ticket_list`        | List Kerberos tickets            |
| `kerberos_ticket_purge`       | Purge tickets                    |
| `kerberos_ticket_use`         | Pass-the-ticket                  |
| `golden_ticket_create`        | Create golden ticket             |
| `sekurlsa_search_credentials` | Dump plaintext creds from memory |

<figure><img src="../../../../.gitbook/assets/Screenshot 2025-07-17 203009.png" alt=""><figcaption></figcaption></figure>

## &#x20;**Windows configuration files**

Such files are usually used in enterprise automated deployments and **should be securely deleted after setup**.

Located in:

```
C:\Windows\Panther
```

File:

* unettend.xml

{% hint style="warning" %}
**Password is encoded in base64**
{% endhint %}

| Path                             | Contains Passwords? | Details                                                                                   |
| -------------------------------- | ------------------- | ----------------------------------------------------------------------------------------- |
| `C:\Windows\System32\config\SAM` | ‚úÖ (hashed)          | Local account password hashes                                                             |
| `C:\Windows\NTDS\NTDS.dit`       | ‚úÖ (hashed)          | Domain account hashes (AD)                                                                |
| `C:\Windows\Panther`             | ‚ùå (usually)         | Setup logs, but may contain plaintext passwords in config files during automated installs |

