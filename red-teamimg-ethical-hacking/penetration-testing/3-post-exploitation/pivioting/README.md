# Pivioting

## üîÅ Autoroute

What is `autoroute`?

`autoroute` is a **Meterpreter post module** that adds routes to subnets accessible **only from the target machine**, allowing you to pivot through it and reach internal networks.

| Command                                  | Description                    |
| ---------------------------------------- | ------------------------------ |
| `run autoroute`                          | Loads autoroute module         |
| `run autoroute -s <subnet> -n <netmask>` | Adds a route to subnet         |
| `run autoroute -p`                       | Prints current routes          |
| `run autoroute -d <subnet>`              | Deletes a specific route       |
| `route`                                  | View Metasploit's route table  |
| `route add <subnet> <mask> <id>`         | Manually add route via session |

## &#x20;üì∂ **Sessions Commands**

Send current session to background

```bash
background
```

| Command            | Description                                      | Example         |
| ------------------ | ------------------------------------------------ | --------------- |
| `sessions`         | List all active sessions.                        | `sessions`      |
| `sessions -i <id>` | Interact with a specific session.                | `sessions -i 1` |
| `sessions -k <id>` | Kill a specific session.                         | `sessions -k 1` |
| `sessions -K`      | Kill all sessions.                               | `sessions -K`   |
| `sessions -v`      | List verbose info about sessions.                | `sessions -v`   |
| `sessions -u <id>` | Upgrade a shell to Meterpreter.                  | `sessions -u 2` |
| `interact <id>`    | Interact with a session (same as `sessions -i`). | `interact 1`    |

## üì∂Upgrade Session

This commands upgrades to a meterpeter session

```
sessions -u <session_id>
```

```
post/multi/manage/shell_to_meterpreter
```

Rename Session

<figure><img src="../../../../.gitbook/assets/image (17).png" alt=""><figcaption></figcaption></figure>
