# Linux

<figure><img src="../../../../../.gitbook/assets/image (15).png" alt=""><figcaption></figcaption></figure>

## Metasploit Post Modules

### Enumerating System Information

<figure><img src="../../../../../.gitbook/assets/Screenshot 2025-08-03 174433.png" alt=""><figcaption></figcaption></figure>

* sysinfo

**Identify OS version**

```bash
cat /etc/issue or for all info cat /etc/*release
```

**Hardware**

```bash
ls cpu
```

Drives/disk

```bash
df -h
```

List installed packages

```
dpkg -l
```

{% hint style="warning" %}
There will be alot cause on linux every comand is package
{% endhint %}

### CheckVM

<pre><code><strong>post/linux/gather/checkvm
</strong></code></pre>

### Configs

```
post/linux/gather/enum_configs
```

### Network enum

```
post/linux/gather/enum_network
```

```
netstat
```

```
roote
```

This displays **network names and their corresponding IP addresses**, typically used for legacy tools and configuration.

```
cat /etc/networks
```

This displays the **static hostname-to-IP address mapping** used for local name resolution, **before DNS is consulted**.

```
cat /etc/hosts
```

### Protections

```
post/linux/gather/enum_protections
```

```
post/linux/gather/enum_system
```

### Users and groups

Zero uid on linux is always the Root user

```
metepreter getuid
```

See what group user is part of

```
groups <user>
```

Output system users

* Users accounts
* Services accounts

Services users have `/nologin`

```
cat /etc/passwd
```

## Automating Enum

```
post/linux/gather/enum_configs
```

ðŸ”Ž It gathers potentially interesting **configuration files** that may contain:

* Credentials
* Service configurations
* Custom scripts
* Backup files
* API tokens
* Misconfigurations

```
post/linux/gather/enum_network
```

```
post/linux/gather/enum_system
```

&#x20;ðŸ”Ž Collects detailed information about the **host system**, including:

* Operating system and version
* Kernel version
* CPU and memory details
* Network interfaces and routes
* Running processes
* Mounted filesystems
* Logged-in users
* Uptime and hostname
* Package management system and installed packages

### Lin enum script

We upload it and run it

```
chmod +x script.sh
```

{% embed url="https://github.com/diego-treitos/linux-smart-enumeration" %}

{% embed url="https://github.com/rebootuser/LinEnum" %}

## Other commands

|                        |                                                                                                |
| ---------------------- | ---------------------------------------------------------------------------------------------- |
| <h4>hostname</h4>      | will return the hostname of the target machine                                                 |
| <h4>uname -a</h4>      | Will print system information giving us additional detail about the kernel used by the system. |
| <h4>/etc/issue</h4>    | This file usually contains some information about the operating system                         |
| <h4>/proc/version</h4> | The proc filesystem (procfs) provides information about the target system processes            |
| <h4>env</h4>           | The `env` command will show environmental variables.                                           |

**uname**

```bash
uname [OPTIONS]
```

| Option | Description                               |
| ------ | ----------------------------------------- |
| `-a`   | Show **all** available system info        |
| `-s`   | Show kernel name (default output)         |
| `-n`   | Show network node hostname                |
| `-r`   | Show kernel release version               |
| `-v`   | Show kernel version                       |
| `-m`   | Show machine hardware name (architecture) |
| `-p`   | Show processor type (if available)        |
| `-i`   | Show hardware platform (if available)     |
| `-o`   | Show operating system                     |

{% content-ref url="../../../../../operating-systems/linux/bash/" %}
[bash](../../../../../operating-systems/linux/bash/)
{% endcontent-ref %}
